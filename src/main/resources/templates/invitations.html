<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Invitations</title>

    <link rel="stylesheet" type="text/css" th:href="@{/webjars/material-design-lite/1.3.0/material.min.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/material-design-icons/4.0.0/material-icons.css}"/>
    <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/5.0.1/css/bootstrap.min.css} "/>


    <script th:src="@{/webjars/material-design-lite/1.3.0/material.min.js}"></script>
    <script th:src="@{/webjars/jquery/3.6.0/jquery.min.js}"></script>
    <script th:src="@{/webjars/popper.js/2.9.2/umd/popper.min.js}"></script>
    <script th:src="@{/webjars/bootstrap/5.0.1/js/bootstrap.min.js}"></script>
</head>
<body>

<form name='f' th:action="@{/admin/invitations}" th:object="${requestForm}" method='POST'>
    <input type="hidden"
           th:name="${_csrf.parameterName}"
           th:value="${_csrf.token}" />
    <input type="text" th:field="*{email}">

    <button type="submit">Create New</button>

</form>
<table>
   <tr>
       <th>ID</th>
       <th>Email</th>
       <th>Creation Date</th>
       <th>Controls</th>
   </tr>
    <tr th:each="invitation: ${invitations}">
        <td th:utext="${invitation.getId()}"></td>
        <td th:utext="${invitation.getEmail()}"></td>
        <td th:utext="${invitation.getCreationDate()}"></td>
        <td>
            <form action="#" th:action="@{'/admin/invitations/{id}'(id=${invitation.getId()})}" th:method="DELETE" >
                <input type="hidden"
                       th:name="${_csrf.parameterName}"
                       th:value="${_csrf.token}"
                />

                <button type="submit">Delete</button>
            </form>
        </td>
    </tr>
</table>

</body>
</html>

